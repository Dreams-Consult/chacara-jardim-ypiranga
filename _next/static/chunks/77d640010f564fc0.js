(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},56563,73297,e=>{"use strict";var t,r=((t={}).AVAILABLE="available",t.RESERVED="reserved",t.SOLD="sold",t);e.s(["LotStatus",()=>r],73297);let a="lot_platform_maps",s="lot_platform_lots",n="lot_platform_purchases",l="lot_platform_initialized",o=e=>JSON.stringify(e,(e,t)=>t instanceof Date?t.toISOString():t),i=e=>JSON.parse(e,(e,t)=>"string"==typeof t&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/.test(t)?new Date(t):t),c=()=>{(()=>{if(localStorage.getItem(l))return;let e={id:"1762192028364",name:"Mapa de Exemplo - Chácara Jardim Ypiranga",description:"Mapa de exemplo para testes. Substitua pela imagem real.",imageUrl:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjYwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iODAwIiBoZWlnaHQ9IjYwMCIgZmlsbD0iI2Y1ZjVmNSIvPjx0ZXh0IHg9IjQwMCIgeT0iMzAwIiBmb250LXNpemU9IjI0IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjOTk5Ij5NYXBhIGRlIEV4ZW1wbG88L3RleHQ+PC9zdmc+",imageType:"image",width:800,height:600,createdAt:new Date("2024-11-03T10:00:00"),updatedAt:new Date("2024-11-03T10:00:00")},t=[{id:"1",mapId:"1762192028364",lotNumber:"1",area:{points:[{x:100,y:100},{x:200,y:100},{x:200,y:200},{x:100,y:200}]},size:250,price:5e4,status:r.AVAILABLE,description:"Lote de exemplo 1",createdAt:new Date("2024-11-03T10:00:00"),updatedAt:new Date("2024-11-03T10:00:00")},{id:"2",mapId:"1762192028364",lotNumber:"2",area:{points:[{x:220,y:100},{x:320,y:100},{x:320,y:200},{x:220,y:200}]},size:250,price:55e3,status:r.AVAILABLE,description:"Lote de exemplo 2",createdAt:new Date("2024-11-03T10:00:00"),updatedAt:new Date("2024-11-03T10:00:00")},{id:"3",mapId:"1762192028364",lotNumber:"3",area:{points:[{x:100,y:220},{x:200,y:220},{x:200,y:320},{x:100,y:320}]},size:250,price:52e3,status:r.RESERVED,description:"Lote de exemplo 3",createdAt:new Date("2024-11-03T10:00:00"),updatedAt:new Date("2024-11-03T10:00:00")}];localStorage.setItem(a,o([e])),localStorage.setItem(s,o(t)),localStorage.setItem(n,o([])),localStorage.setItem(l,"true"),console.log("Dados de exemplo inicializados com sucesso!")})();let e=localStorage.getItem(a);return e?i(e):[]},d=()=>{let e=localStorage.getItem(s);return e?i(e):[]};e.s(["deleteLot",0,e=>{let t=d().filter(t=>t.id!==e);localStorage.setItem(s,o(t))},"deleteMap",0,e=>{let t=c().filter(t=>t.id!==e);localStorage.setItem(a,o(t));let r=d().filter(t=>t.mapId!==e);localStorage.setItem(s,o(r))},"getLots",0,d,"getLotsByMapId",0,e=>d().filter(t=>t.mapId===e),"getMapById",0,e=>c().find(t=>t.id===e),"getMaps",0,c,"saveLot",0,e=>{let t=d(),r=t.findIndex(t=>t.id===e.id);r>=0?t[r]=e:t.push(e),localStorage.setItem(s,o(t))},"saveMap",0,e=>{let t=c(),r=t.findIndex(t=>t.id===e.id);r>=0?t[r]=e:t.push(e);try{let e=o(t);localStorage.setItem(a,e)}catch(e){if(console.error("Erro ao salvar mapa:",e),e instanceof DOMException&&"QuotaExceededError"===e.name)throw Error("Arquivo muito grande para o localStorage. Use uma imagem menor ou de menor qualidade.");throw e}},"savePurchaseRequest",0,e=>{let t,r=(t=localStorage.getItem(n))?i(t):[];r.push(e),localStorage.setItem(n,o(r))}],56563)},31886,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(73297);function s({imageUrl:e,lots:s,onLotClick:n,isEditMode:l=!1,onAreaDrawn:o,selectedLotId:i}){let c=(0,r.useRef)(null),d=(0,r.useRef)(null),u=(0,r.useRef)(null),[m,f]=(0,r.useState)([]),[h,g]=(0,r.useState)(null),[x,p]=(0,r.useState)(!1),[b,y]=(0,r.useState)(1),[v,j]=(0,r.useState)({x:0,y:0}),[N,w]=(0,r.useState)(!1),[S,E]=(0,r.useState)({x:0,y:0}),I=r.default.useCallback(()=>{let e=c.current,t=d.current;if(!e||!t||!x)return;let r=e.getContext("2d");r&&(r.imageSmoothingEnabled=!0,r.imageSmoothingQuality="high",r.clearRect(0,0,e.width,e.height),r.save(),r.translate(v.x,v.y),r.scale(b,b),r.drawImage(t,0,0),s.forEach(e=>{((e,t,r,s)=>{if(t.area.points.length<3)return;e.beginPath(),e.moveTo(t.area.points[0].x,t.area.points[0].y),t.area.points.forEach(t=>{e.lineTo(t.x,t.y)}),e.closePath();let n="rgba(34, 197, 94, 0.3)",l="#22c55e";t.status===a.LotStatus.RESERVED?(n="rgba(251, 191, 36, 0.3)",l="#fbbf24"):t.status===a.LotStatus.SOLD&&(n="rgba(239, 68, 68, 0.3)",l="#ef4444"),r&&(n=n.replace("0.3","0.5"),l="#000"),s&&(n="rgba(59, 130, 246, 0.5)",l="#3b82f6"),e.fillStyle=n,e.fill(),e.strokeStyle=l,e.lineWidth=r||s?3:2,e.stroke()})(r,e,e.id===h?.id,e.id===i)}),l&&m.length>0&&(r.beginPath(),r.moveTo(m[0].x,m[0].y),m.forEach(e=>{r.lineTo(e.x,e.y)}),r.strokeStyle="#3b82f6",r.lineWidth=2/b,r.stroke(),m.forEach(e=>{r.beginPath(),r.arc(e.x,e.y,5/b,0,2*Math.PI),r.fillStyle="#3b82f6",r.fill()})),r.restore())},[x,s,m,h,i,l,b,v]);(0,r.useEffect)(()=>{let t=c.current,r=d.current;if(!t||!r)return;let a=t.getContext("2d");a&&(r.onload=()=>{let e=window.devicePixelRatio||1;if(t.width=r.naturalWidth,t.height=r.naturalHeight,e>1){let r=t.width,s=t.height;t.width=r*e,t.height=s*e,t.style.width=`${r}px`,t.style.height=`${s}px`,a.scale(e,e)}p(!0)},r.src=e)},[e]),(0,r.useEffect)(()=>{I()},[I]);let L=(e,t,r)=>{let a=!1;for(let s=0,n=r.length-1;s<r.length;n=s++){let l=r[s].x,o=r[s].y,i=r[n].x,c=r[n].y;o>t!=c>t&&e<(i-l)*(t-o)/(c-o)+l&&(a=!a)}return a},C=e=>{let t=c.current;if(!t)return{x:0,y:0};let r=t.getBoundingClientRect(),a=t.width/r.width,s=t.height/r.height,n=(e.clientX-r.left)*a,l=(e.clientY-r.top)*s;return{x:(n-v.x)/b,y:(l-v.y)/b}},P=()=>{w(!1),c.current&&(c.current.style.cursor="default")};return(0,r.useEffect)(()=>{let e=c.current;if(!e)return;let t=t=>{t.preventDefault();let r=e.getBoundingClientRect(),a=t.clientX-r.left,s=t.clientY-r.top;if(a<0||a>r.width||s<0||s>r.height)return;let n=e.width/r.width,l=e.height/r.height,o=a*n,i=s*l,c=t.deltaY>0?-.1:.1;y(e=>{let t=Math.min(Math.max(.5,e+c),5),r=t/e;return j(e=>({x:o-(o-e.x)*r,y:i-(i-e.y)*r})),t})};return e.addEventListener("wheel",t,{passive:!1}),()=>{e.removeEventListener("wheel",t)}},[]),(0,t.jsxs)("div",{ref:u,className:"relative",children:[(0,t.jsx)("img",{ref:d,src:e,alt:"Map",className:"hidden"}),(0,t.jsx)("canvas",{ref:c,onClick:e=>{if(N)return;let{x:t,y:r}=C(e);if(l)f([...m,{x:t,y:r}]);else{let e=s.find(e=>L(t,r,e.area.points));e&&n&&n(e)}},onMouseMove:e=>{let t=c.current;if(!t)return;if(N){let t=e.clientX-S.x,r=e.clientY-S.y;j(e=>({x:e.x+t,y:e.y+r})),E({x:e.clientX,y:e.clientY});return}if(l)return;let{x:r,y:a}=C(e),n=s.find(e=>L(r,a,e.area.points));g(n||null),n?t.style.cursor="pointer":t.style.cursor="default"},onMouseDown:e=>{2===e.button&&(e.preventDefault(),w(!0),E({x:e.clientX,y:e.clientY}),c.current&&(c.current.style.cursor="grabbing"))},onMouseUp:P,onMouseLeave:P,onContextMenu:e=>{e.preventDefault()},className:"max-w-full h-auto border border-gray-300 rounded-lg"}),(0,t.jsxs)("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[(0,t.jsx)("button",{onClick:()=>y(e=>Math.min(e+.2,5)),className:"bg-white hover:bg-gray-50 text-gray-800 font-bold py-2 px-3 rounded-lg shadow-lg border border-gray-200 transition-all hover:shadow-xl",title:"Zoom In",children:"+"}),(0,t.jsx)("button",{onClick:()=>y(e=>Math.max(e-.2,.5)),className:"bg-white hover:bg-gray-50 text-gray-800 font-bold py-2 px-3 rounded-lg shadow-lg border border-gray-200 transition-all hover:shadow-xl",title:"Zoom Out",children:"−"}),(0,t.jsx)("button",{onClick:()=>{y(1),j({x:0,y:0})},className:"bg-white hover:bg-gray-50 text-gray-800 font-semibold py-2 px-3 rounded-lg shadow-lg border border-gray-200 text-xs transition-all hover:shadow-xl",title:"Reset Zoom",children:"100%"})]}),l&&m.length>0&&(0,t.jsxs)("div",{className:"absolute top-4 left-4 flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{m.length>=3&&o&&(o({points:m}),f([]))},className:"px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 shadow-lg transition-all hover:shadow-xl disabled:bg-gray-300 disabled:cursor-not-allowed disabled:shadow-none",disabled:m.length<3,children:["Finalizar Área (",m.length," pontos)"]}),(0,t.jsx)("button",{onClick:()=>{f([])},className:"px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 shadow-lg transition-all hover:shadow-xl",children:"Cancelar"})]}),h&&!l&&(0,t.jsxs)("div",{className:"absolute top-4 left-4 bg-white p-4 rounded-lg shadow-xl border border-gray-200",children:[(0,t.jsxs)("h3",{className:"font-bold text-lg text-gray-900 mb-2",children:["Lote ",h.lotNumber]}),(0,t.jsxs)("p",{className:"text-sm text-gray-700 mb-1",children:[(0,t.jsx)("span",{className:"font-medium",children:"Status:"})," ",(0,t.jsx)("span",{className:h.status===a.LotStatus.AVAILABLE?"font-semibold text-green-700":h.status===a.LotStatus.RESERVED?"font-semibold text-amber-700":"font-semibold text-red-700",children:h.status===a.LotStatus.AVAILABLE?"Disponível":h.status===a.LotStatus.RESERVED?"Reservado":"Vendido"})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-700 mb-1",children:[(0,t.jsx)("span",{className:"font-medium",children:"Área:"})," ",h.size,"m²"]}),(0,t.jsxs)("p",{className:"text-base font-bold text-gray-900 mt-2",children:["R$ ",h.price.toLocaleString("pt-BR")]})]})]})}e.s(["default",()=>s])},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return i},searchParamsToUrlQuery:function(){return n},urlQueryToSearchParams:function(){return o}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});function n(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function l(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,l(e));else t.set(r,l(a));return t}function i(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return o},formatWithValidation:function(){return c},urlObjectKeys:function(){return i}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n=e.r(90809)._(e.r(98183)),l=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:r}=e,a=e.protocol||"",s=e.pathname||"",o=e.hash||"",i=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),i&&"object"==typeof i&&(i=String(n.urlQueryToSearchParams(i)));let d=e.search||i&&`?${i}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||l.test(a))&&!1!==c?(c="//"+(c||""),s&&"/"!==s[0]&&(s="/"+s)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),d&&"?"!==d[0]&&(d="?"+d),s=s.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${a}${c}${s}${d}${o}`}let i=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return o(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return s}});let a=e.r(71645);function s(e,t){let r=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=n(e,a)),t&&(s.current=n(t,a))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return p},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return v},NormalizeError:function(){return b},PageNotFoundError:function(){return y},SP:function(){return g},ST:function(){return x},WEB_VITALS:function(){return n},execOnce:function(){return l},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return i},isResSent:function(){return m},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return f},stringifyError:function(){return N}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function l(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,i=e=>o.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function m(e){return e.finished||e.headersSent}function f(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function h(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await h(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&m(r))return a;if(!a)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let g="undefined"!=typeof performance,x=g&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class p extends Error{}class b extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class v extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function N(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return n}});let a=e.r(18967),s=e.r(52817);function n(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,s.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return p},useLinkStatus:function(){return y}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n=e.r(90809),l=e.r(43476),o=n._(e.r(71645)),i=e.r(95057),c=e.r(8372),d=e.r(18581),u=e.r(18967),m=e.r(5550);e.r(33525);let f=e.r(91949),h=e.r(73668),g=e.r(65165);function x(e){return"string"==typeof e?e:(0,i.formatUrl)(e)}function p(t){var r;let a,s,n,[i,p]=(0,o.useOptimistic)(f.IDLE_LINK_STATUS),y=(0,o.useRef)(null),{href:v,as:j,children:N,prefetch:w=null,passHref:S,replace:E,shallow:I,scroll:L,onClick:C,onMouseEnter:P,onTouchStart:R,legacyBehavior:A=!1,onNavigate:M,ref:D,unstable_dynamicOnHover:O,...T}=t;a=N,A&&("string"==typeof a||"number"==typeof a)&&(a=(0,l.jsx)("a",{children:a}));let _=o.default.useContext(c.AppRouterContext),k=!1!==w,B=!1!==w?null===(r=w)||"auto"===r?g.FetchStrategy.PPR:g.FetchStrategy.Full:g.FetchStrategy.PPR,{href:U,as:V}=o.default.useMemo(()=>{let e=x(v);return{href:e,as:j?x(j):e}},[v,j]);if(A){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});s=o.default.Children.only(a)}let $=A?s&&"object"==typeof s&&s.ref:D,z=o.default.useCallback(e=>(null!==_&&(y.current=(0,f.mountLinkInstance)(e,U,_,B,k,p)),()=>{y.current&&((0,f.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,f.unmountPrefetchableInstance)(e)}),[k,U,_,B,p]),F={ref:(0,d.useMergedRef)(z,$),onClick(t){A||"function"!=typeof C||C(t),A&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(t),!_||t.defaultPrevented||function(t,r,a,s,n,l,i){if("undefined"!=typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,h.isLocalURL)(r)){n&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),i){let e=!1;if(i({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(99781);o.default.startTransition(()=>{u(a||r,n?"replace":"push",l??!0,s.current)})}}(t,U,V,y,E,L,M)},onMouseEnter(e){A||"function"!=typeof P||P(e),A&&s.props&&"function"==typeof s.props.onMouseEnter&&s.props.onMouseEnter(e),_&&k&&(0,f.onNavigationIntent)(e.currentTarget,!0===O)},onTouchStart:function(e){A||"function"!=typeof R||R(e),A&&s.props&&"function"==typeof s.props.onTouchStart&&s.props.onTouchStart(e),_&&k&&(0,f.onNavigationIntent)(e.currentTarget,!0===O)}};return(0,u.isAbsoluteUrl)(V)?F.href=V:A&&!S&&("a"!==s.type||"href"in s.props)||(F.href=(0,m.addBasePath)(V)),n=A?o.default.cloneElement(s,F):(0,l.jsx)("a",{...T,...F,children:a}),(0,l.jsx)(b.Provider,{value:i,children:n})}e.r(84508);let b=(0,o.createContext)(f.IDLE_LINK_STATUS),y=()=>(0,o.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},31713,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(22016),s=e.i(73297),n=e.i(56563),l=e.i(31886);function o({lot:e,onClose:a,onSuccess:l}){let[o,i]=(0,r.useState)({customerName:"",customerEmail:"",customerPhone:"",customerCPF:"",message:""});return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsx)("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:["Manifestar Interesse - Lote ",e.lotNumber]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Área"}),(0,t.jsxs)("p",{className:"font-bold text-gray-900",children:[e.size,"m²"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Preço"}),(0,t.jsxs)("p",{className:"font-bold text-gray-900",children:["R$ ",e.price.toLocaleString("pt-BR")]})]})]}),e.description&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),(0,t.jsx)("p",{className:"text-sm text-gray-800",children:e.description})]}),e.features&&e.features.length>0&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Características"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.features.map((e,r)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded",children:e},r))})]})]}),(0,t.jsxs)("form",{onSubmit:t=>{t.preventDefault();let r={id:Date.now().toString(),lotId:e.id,...o,status:"pending",createdAt:new Date};(0,n.savePurchaseRequest)(r);let a={...e,status:s.LotStatus.RESERVED,updatedAt:new Date};(0,n.saveLot)(a),l()},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Nome Completo *"}),(0,t.jsx)("input",{type:"text",required:!0,value:o.customerName,onChange:e=>i({...o,customerName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Seu nome completo"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Email *"}),(0,t.jsx)("input",{type:"email",required:!0,value:o.customerEmail,onChange:e=>i({...o,customerEmail:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"seu@email.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Telefone *"}),(0,t.jsx)("input",{type:"tel",required:!0,value:o.customerPhone,onChange:e=>i({...o,customerPhone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"(00) 00000-0000"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"CPF"}),(0,t.jsx)("input",{type:"text",value:o.customerCPF,onChange:e=>i({...o,customerCPF:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"000.000.000-00"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Mensagem"}),(0,t.jsx)("textarea",{value:o.message,onChange:e=>i({...o,message:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:4,placeholder:"Deixe uma mensagem ou dúvida"})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsx)("button",{type:"submit",className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold shadow-md transition-all hover:shadow-lg",children:"Enviar Interesse"}),(0,t.jsx)("button",{type:"button",onClick:a,className:"flex-1 px-4 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 font-semibold shadow-md transition-all hover:shadow-lg",children:"Cancelar"})]})]})]})})})}function i(){let[e,i]=(0,r.useState)([]),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[f,h]=(0,r.useState)(!1),[g,x]=(0,r.useState)(!0),[p,b]=(0,r.useState)(0);(0,r.useEffect)(()=>{let e=(0,n.getMaps)();i(e),e.length>0&&d(e[0]),x(!1)},[]);let y=(0,r.useMemo)(()=>!c||g?[]:(0,n.getLots)().filter(e=>e.mapId===c.id),[c,g,p]),v=y.filter(e=>e.status===s.LotStatus.AVAILABLE).length,j=y.filter(e=>e.status===s.LotStatus.RESERVED).length,N=y.filter(e=>e.status===s.LotStatus.SOLD).length;return g?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Chácara Jardim Ypiranga"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Encontre o lote perfeito para você. Clique nos lotes disponíveis para mais informações."})]})}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Carregando mapas..."})})})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Chácara Jardim Ypiranga"}),(0,t.jsx)("p",{className:"text-gray-700 mt-2",children:"Encontre o lote perfeito para você. Clique nos lotes disponíveis para mais informações."})]})}),1===e.length&&"1762192028364"===e[0].id&&(0,t.jsx)("div",{className:"bg-yellow-50 border-b border-yellow-200",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,t.jsxs)("p",{className:"text-yellow-800 text-sm",children:["ℹ️ ",(0,t.jsx)("strong",{children:"Modo de Demonstração:"})," Você está visualizando dados de exemplo. Para acessar a área administrativa, visite"," ",(0,t.jsx)(a.default,{href:"/admin/maps",className:"underline font-semibold hover:text-yellow-900",children:"/admin/maps"})]})})}),(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[e.length>1&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Selecione o Mapa"}),(0,t.jsx)("select",{value:c?.id||"",onChange:t=>{d(e.find(e=>e.id===t.target.value)||null)},className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:e.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))})]}),c&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4",children:(0,t.jsx)(l.default,{imageUrl:c.imageUrl,lots:y,onLotClick:e=>{e.status===s.LotStatus.AVAILABLE&&(m(e),h(!0))}})})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Estatísticas"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded"}),(0,t.jsx)("span",{className:"text-sm text-gray-800",children:"Disponíveis"})]}),(0,t.jsx)("span",{className:"font-bold text-gray-900",children:v})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),(0,t.jsx)("span",{className:"text-sm text-gray-800",children:"Reservados"})]}),(0,t.jsx)("span",{className:"font-bold text-gray-900",children:j})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded"}),(0,t.jsx)("span",{className:"text-sm text-gray-800",children:"Vendidos"})]}),(0,t.jsx)("span",{className:"font-bold text-gray-900",children:N})]}),(0,t.jsx)("div",{className:"pt-3 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-800",children:"Total"}),(0,t.jsx)("span",{className:"font-bold text-gray-900",children:y.length})]})})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Legenda"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded opacity-50"}),(0,t.jsx)("span",{className:"text-sm text-gray-800",children:"Disponível para compra"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-yellow-500 rounded opacity-50"}),(0,t.jsx)("span",{className:"text-sm text-gray-800",children:"Reservado"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-red-500 rounded opacity-50"}),(0,t.jsx)("span",{className:"text-sm text-gray-800",children:"Vendido"})]})]}),(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,t.jsx)("p",{className:"text-sm text-gray-700",children:"Passe o mouse sobre os lotes para ver informações. Clique nos lotes disponíveis para manifestar interesse."})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Contato"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-gray-800",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{className:"text-gray-900",children:"Email:"})," contato@chacaraypiranga.com"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{className:"text-gray-900",children:"Telefone:"})," (00) 0000-0000"]}),(0,t.jsx)("p",{className:"text-gray-700 mt-4",children:"Entre em contato para mais informações sobre os lotes disponíveis."})]})]})]})]}),0===e.length&&(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-gray-600 text-lg",children:"Nenhum mapa disponível no momento."})})]}),f&&u&&(0,t.jsx)(o,{lot:u,onClose:()=>{h(!1),m(null)},onSuccess:()=>{h(!1),b(e=>e+1),alert("Seu interesse foi registrado com sucesso! O lote foi reservado. Entraremos em contato em breve."),m(null)}})]})}e.s(["default",()=>i],31713)}]);