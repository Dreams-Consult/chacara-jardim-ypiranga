(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56563,e=>{"use strict";let o="lot_platform_maps",t="lot_platform_lots",a="lot_platform_purchases",s=e=>JSON.stringify(e,(e,o)=>o instanceof Date?o.toISOString():o),r=e=>JSON.parse(e,(e,o)=>"string"==typeof o&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/.test(o)?new Date(o):o),l=()=>{let e=localStorage.getItem(o);return e?r(e):[]},d=()=>{let e=localStorage.getItem(t);return e?r(e):[]};e.s(["deleteLot",0,e=>{let o=d().filter(o=>o.id!==e);localStorage.setItem(t,s(o))},"deleteMap",0,e=>{let a=l().filter(o=>o.id!==e);localStorage.setItem(o,s(a));let r=d().filter(o=>o.mapId!==e);localStorage.setItem(t,s(r))},"getLots",0,d,"getLotsByMapId",0,e=>d().filter(o=>o.mapId===e),"getMapById",0,e=>l().find(o=>o.id===e),"getMaps",0,l,"saveLot",0,e=>{let o=d(),a=o.findIndex(o=>o.id===e.id);a>=0?o[a]=e:o.push(e),localStorage.setItem(t,s(o))},"saveMap",0,e=>{let t=l(),a=t.findIndex(o=>o.id===e.id);a>=0?t[a]=e:t.push(e);try{let e=s(t);localStorage.setItem(o,e)}catch(e){if(console.error("Erro ao salvar mapa:",e),e instanceof DOMException&&"QuotaExceededError"===e.name)throw Error("Arquivo muito grande para o localStorage. Use uma imagem menor ou de menor qualidade.");throw e}},"savePurchaseRequest",0,e=>{let o,t=(o=localStorage.getItem(a))?r(o):[];t.push(e),localStorage.setItem(a,s(t))}])},33757,e=>{"use strict";var o=e.i(43476),t=e.i(71645),a=e.i(56563);function s(){let[e,s]=(0,t.useState)(""),[r,l]=(0,t.useState)("");return(0,o.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("button",{onClick:()=>window.history.back(),className:"text-blue-700 hover:text-blue-900 font-medium hover:underline mb-2 transition-colors",children:"â† Voltar"}),(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gerenciamento de Dados"}),(0,o.jsx)("p",{className:"text-gray-700 mt-2",children:"Exporte e importe dados entre diferentes ambientes (localhost e GitHub Pages)"})]}),r&&(0,o.jsx)("div",{className:`p-4 rounded-lg mb-6 ${r.includes("âŒ")?"bg-red-50 border border-red-200 text-red-800":"bg-green-50 border border-green-200 text-green-800"}`,children:r}),(0,o.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6 shadow-md",children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"ðŸ“¤ Exportar Dados"}),(0,o.jsx)("p",{className:"text-gray-700 mb-4",children:"Baixe todos os mapas e lotes em um arquivo JSON para backup ou transferÃªncia."}),(0,o.jsx)("button",{onClick:()=>{let e=new Blob([JSON.stringify({maps:(0,a.getMaps)(),lots:(0,a.getLots)(),exportDate:new Date().toISOString()},null,2)],{type:"application/json"}),o=URL.createObjectURL(e),t=document.createElement("a");t.href=o,t.download=`chacara-backup-${Date.now()}.json`,t.click(),URL.revokeObjectURL(o),l("âœ… Dados exportados com sucesso!"),setTimeout(()=>l(""),3e3)},className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 shadow-md transition-all hover:shadow-lg",children:"Exportar Todos os Dados"})]}),(0,o.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6 shadow-md",children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"ðŸ“¥ Importar Dados"}),(0,o.jsx)("p",{className:"text-gray-700 mb-4",children:"Importe dados de um arquivo JSON exportado anteriormente."}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Selecionar Arquivo JSON"}),(0,o.jsx)("input",{type:"file",accept:".json",onChange:e=>{let o=e.target.files?.[0];if(o){let e=new FileReader;e.onload=e=>{s(e.target?.result)},e.readAsText(o)}},className:"w-full text-gray-900"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Ou Cole o JSON Aqui"}),(0,o.jsx)("textarea",{value:e,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-gray-900 font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:10,placeholder:'{"maps": [...], "lots": [...]}'})]}),(0,o.jsx)("button",{onClick:()=>{try{let o=JSON.parse(e);if(!o.maps||!o.lots)return void l("âŒ Formato de dados invÃ¡lido");o.maps.forEach(e=>{(0,a.saveMap)(e)}),o.lots.forEach(e=>{(0,a.saveLot)(e)}),l(`âœ… Importados ${o.maps.length} mapas e ${o.lots.length} lotes!`),s(""),setTimeout(()=>{window.location.reload()},2e3)}catch(e){console.error("Erro ao importar:",e),l("âŒ Erro ao importar dados. Verifique o formato JSON.")}},disabled:!e,className:"px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed shadow-md transition-all hover:shadow-lg",children:"Importar Dados"})]})]}),(0,o.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 shadow-md",children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-red-900 mb-4",children:"ðŸ—‘ï¸ Limpar Todos os Dados"}),(0,o.jsxs)("p",{className:"text-red-800 mb-4",children:["âš ï¸ ",(0,o.jsx)("strong",{children:"CUIDADO:"})," Esta aÃ§Ã£o irÃ¡ apagar permanentemente todos os mapas e lotes!"]}),(0,o.jsx)("button",{onClick:()=>{confirm("âš ï¸ ATENÃ‡ÃƒO: Isso irÃ¡ apagar TODOS os dados! Deseja continuar?")&&confirm("Tem certeza? Esta aÃ§Ã£o nÃ£o pode ser desfeita!")&&(localStorage.clear(),l("âœ… Todos os dados foram apagados"),setTimeout(()=>{window.location.reload()},2e3))},className:"px-6 py-3 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 shadow-md transition-all hover:shadow-lg",children:"Apagar Todos os Dados"})]}),(0,o.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mt-6",children:[(0,o.jsx)("h3",{className:"text-lg font-bold text-blue-900 mb-3",children:"ðŸ’¡ Como Usar"}),(0,o.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-blue-800",children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"No ambiente local (localhost):"})," Crie seus mapas e lotes, depois clique em â€œExportar Todos os Dadosâ€"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"No GitHub Pages:"})," Acesse esta mesma pÃ¡gina e clique em â€œImportar Dadosâ€, depois selecione o arquivo exportado"]}),(0,o.jsx)("li",{children:"Os dados serÃ£o salvos no localStorage do navegador e ficarÃ£o disponÃ­veis para uso"})]})]})]})}function r(){return(0,o.jsx)(s,{})}e.s(["default",()=>r],33757)}]);